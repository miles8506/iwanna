(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c3ecb33"],{"05e1":function(t,e,r){"use strict";r("f1bb")},"1bab":function(t,e,r){"use strict";(function(t){function n(e=null,r,n){return new Promise((s,i)=>{t.ajax({url:"http://127.0.0.1:5050/"+r,type:n,data:{goodsInfo:e},success(t){s(t)},error(t){i(t)}})})}function s(e,r,n,s){return Promise.all([new Promise((n,s)=>{t.ajax({url:"http://127.0.0.1:5050/"+e,type:r,success(t){n(t)},error(t){s(t)}})}),new Promise((e,r)=>{t.ajax({url:"http://127.0.0.1:5050/"+n,type:s,success(t){e(t)},error(t){r(t)}})})])}r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return s}))}).call(this,r("1157"))},2419:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"orderEdit"}},[r("div",{staticClass:"main_order"},[r("h2",[t._v("訂單主要資料")]),r("div",[t._v("訂單創建時間:"+t._s(t.createOrderTime))]),r("div",[t._v("訂單編號:"+t._s(t.orderGoods.shopeeAccount))]),r("div",[t._v("買家帳號:"+t._s(t.orderGoods.buyerAccount))]),r("div",[t._v("最晚出貨時間:"+t._s(t.lastShip))]),r("div",[t._v("訂單總金額:"+t._s(t.orderGoods.orderTotal))]),r("div",[t._v(" 叫貨狀態:"+t._s(t.orderGoods.placeOrder?"已叫貨":"未叫貨")+" "),t.orderGoods.placeOrder?t._e():r("button",{on:{click:t.placeOrderBtn}},[t._v(" 確認已叫貨 ")])])]),r("div",{staticClass:"detail_order"},[r("h2",[t._v("訂單商品")]),t._l(t.orderGoods.orderList,(function(e,n){return r("div",{key:n,staticClass:"order_goods_item"},[r("div",[r("label",{attrs:{for:"curryStatusIpt"+n}},[t._v("出貨狀態:"),r("input",{attrs:{type:"checkbox",disabled:"complete"===e.status||!1===t.orderGoods.placeOrder,id:"curryStatusIpt"+n},domProps:{checked:e.status},on:{change:function(r){return t.statusChange(e)}}})])]),r("div",[t._v("商品名稱:"+t._s(e.orderName))]),r("div",[t._v("廠商貨號:"+t._s(e.ordergNum))]),r("div",[t._v("商品貨號:"+t._s(e.orderSelfNum))]),r("div",[t._v("尺寸:"+t._s(e.orderSize))]),r("div",[t._v("顏色:"+t._s(e.orderColor))]),r("div",[t._v("數量:"+t._s(e.orderCount))]),r("div",[t._v("價錢:"+t._s(e.finalPrice))]),r("div",[t._v(" 備註"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.noteArr[n],expression:"noteArr[index]"}],ref:"noteIpt",refInFor:!0,attrs:{cols:"30",rows:"10",disabled:""},domProps:{value:t.noteArr[n]},on:{input:function(e){e.target.composing||t.$set(t.noteArr,n,e.target.value)}}}),r("button",{ref:"editBtn",refInFor:!0,on:{click:function(r){return t.EditNoteIpt(e,n)}}},[t._v("修改")])])])}))],2),r("button",{on:{click:t.goBack}},[t._v("返回")]),r("button",{on:{click:t.goEdit}},[t._v("確定")]),r("alert-window",{attrs:{isShow:t.isShowAlert},on:{editShow:t.editShow},scopedSlots:t._u([{key:"alertContent",fn:function(){return[r("p",[t._v("是否更改為已叫貨？確定後就不能再更改")])]},proxy:!0},{key:"allowBtn",fn:function(){return[r("span",{on:{click:t.placeOrderCheck}},[t._v("是")])]},proxy:!0}])})],1)},s=[],i=r("1bab"),o=r("c814"),u=r("5a0c"),a=r.n(u),d={data(){return{orderGoods:{},isEdit:[],noteArr:[],isShowAlert:!1}},components:{AlertWindow:o["a"]},created(){this.orderGoods=JSON.parse(this.$route.query.item);for(let t=0;t<this.orderGoods.orderList.length;t++)this.noteArr.push(this.orderGoods.orderList[t].orderNote),this.isEdit.push(!0)},methods:{statusChange(t){const e=this.orderGoods.orderList,r=e.find(e=>e==t);r.status=!r.status},EditNoteIpt(t,e){if(this.isEdit[e]=!this.isEdit[e],0==this.isEdit[e])this.$refs.noteIpt[e].disabled=!1,this.$refs.editBtn[e].textContent="確定";else{this.$refs.noteIpt[e].disabled=!0;const r=this.orderGoods.orderList,n=r.find(e=>e==t);n.orderNote=this.noteArr[e],this.$refs.editBtn[e].textContent="修改"}},goBack(){this.$router.push("/orderList")},goEdit(){const t=this.isEdit.some(t=>!1===t);if(t)return alert("請檢查資料是否填妥");{const t=this.orderGoods.orderList.some(t=>!1===t.status);t?(this.orderGoods.orderCurryStatus=!1,Object(i["b"])(JSON.stringify(this.orderGoods),"editOrder","post").then(t=>{0==t&&(alert("訂單已修改成功"),this.$router.push("/orderList"))}).catch(t=>{alert("訂單添加失敗"),console.log("err"+t)})):(this.orderGoods.orderCurryStatus=!0,Object(i["b"])(JSON.stringify(this.orderGoods),"editOrder","post").then(t=>{0==t&&(alert("訂單已修改成功"),this.$router.push("/orderList"))}).catch(t=>{alert("訂單添加失敗"),console.log("err"+t)}))}},editShow(){this.isShowAlert=!this.isShowAlert},placeOrderBtn(){this.isShowAlert=!this.isShowAlert},placeOrderCheck(){this.orderGoods.placeOrder=!0,this.isShowAlert=!this.isShowAlert}},computed:{lastShip(){const t=this.orderGoods.lastShipment;return a()(t).format("YYYY/MM/DD")},createOrderTime(){const t=this.orderGoods.orderNum;return a()(t).format("YYYY/MM/DD HH:mm:ss")}}},c=d,h=(r("65fd"),r("2877")),l=Object(h["a"])(c,n,s,!1,null,"b14a6f6a",null);e["default"]=l.exports},"292e":function(t,e,r){},"5a0c":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",s="second",i="minute",o="hour",u="day",a="week",d="month",c="quarter",h="year",l="date",f="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},_={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),s=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(s,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),s=e.clone().add(n,d),i=r-s<0,o=e.clone().add(n+(i?-1:1),d);return+(-(n+(r-s)/(i?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:h,w:a,d:u,D:l,h:o,m:i,s:s,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},S="en",w={};w[S]=p;var y=function(t){return t instanceof D},g=function(t,e,r){var n;if(!t)return S;if("string"==typeof t)w[t]&&(n=t),e&&(w[t]=e,n=t);else{var s=t.name;w[s]=t,n=s}return!r&&n&&(S=n),n||!r&&S},M=function(t,e){if(y(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new D(r)},b=_;b.l=g,b.i=y,b.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function p(t){this.$L=g(t.locale,null,!0),this.parse(t)}var m=p.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(v);if(n){var s=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var r=M(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return M(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<M(t)},m.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!b.u(e)||e,c=b.p(t),f=function(t,e){var s=b.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?s:s.endOf(u)},v=function(t,e){return b.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},$=this.$W,p=this.$M,m=this.$D,_="set"+(this.$u?"UTC":"");switch(c){case h:return n?f(1,0):f(31,11);case d:return n?f(1,p):f(0,p+1);case a:var S=this.$locale().weekStart||0,w=($<S?$+7:$)-S;return f(n?m-w:m+(6-w),p);case u:case l:return v(_+"Hours",0);case o:return v(_+"Minutes",1);case i:return v(_+"Seconds",2);case s:return v(_+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,a=b.p(t),c="set"+(this.$u?"UTC":""),f=(r={},r[u]=c+"Date",r[l]=c+"Date",r[d]=c+"Month",r[h]=c+"FullYear",r[o]=c+"Hours",r[i]=c+"Minutes",r[s]=c+"Seconds",r[n]=c+"Milliseconds",r)[a],v=a===u?this.$D+(e-this.$W):e;if(a===d||a===h){var $=this.clone().set(l,1);$.$d[f](v),$.init(),this.$d=$.set(l,Math.min(this.$D,$.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(n,c){var l,f=this;n=Number(n);var v=b.p(c),$=function(t){var e=M(f);return b.w(e.date(e.date()+Math.round(t*n)),f)};if(v===d)return this.set(d,this.$M+n);if(v===h)return this.set(h,this.$y+n);if(v===u)return $(1);if(v===a)return $(7);var p=(l={},l[i]=e,l[o]=r,l[s]=t,l)[v]||1,m=this.$d.getTime()+n*p;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",s=b.z(this),i=this.$H,o=this.$m,u=this.$M,a=r.weekdays,d=r.months,c=function(t,r,s,i){return t&&(t[r]||t(e,n))||s[r].substr(0,i)},h=function(t){return b.s(i%12||12,t,"0")},l=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:b.s(u+1,2,"0"),MMM:c(r.monthsShort,u,d,3),MMMM:c(d,u),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,a,2),ddd:c(r.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(i),HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:l(i,o,!0),A:l(i,o,!1),m:String(o),mm:b.s(o,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:s};return n.replace($,(function(t,e){return e||v[t]||s.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,l,f){var v,$=b.p(l),p=M(n),m=(p.utcOffset()-this.utcOffset())*e,_=this-p,S=b.m(this,p);return S=(v={},v[h]=S/12,v[d]=S,v[c]=S/3,v[a]=(_-m)/6048e5,v[u]=(_-m)/864e5,v[o]=_/r,v[i]=_/e,v[s]=_/t,v)[$]||_,f?S:b.a(S)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=g(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},p}(),O=D.prototype;return M.prototype=O,[["$ms",n],["$s",s],["$m",i],["$H",o],["$W",u],["$M",d],["$y",h],["$D",l]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,D,M),t.$i=!0),M},M.locale=g,M.isDayjs=y,M.unix=function(t){return M(1e3*t)},M.en=w[S],M.Ls=w,M.p={},M}))},"65fd":function(t,e,r){"use strict";r("292e")},c814:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isShow?r("div",{staticClass:"bgc"},[r("div",{staticClass:"alert_wrap"},[r("div",{staticClass:"content"},[t._t("alertContent"),r("div",{staticClass:"control"},[r("span",{on:{click:t.returnShow}},[t._v("否")]),t._t("allowBtn")],2)],2)])]):t._e()])},s=[],i={props:{isShow:{type:Boolean,default:!1}},methods:{returnShow(){this.$emit("editShow")}}},o=i,u=(r("05e1"),r("2877")),a=Object(u["a"])(o,n,s,!1,null,"5dbc4292",null);e["a"]=a.exports},f1bb:function(t,e,r){}}]);
//# sourceMappingURL=chunk-5c3ecb33.0e46d5db.js.map